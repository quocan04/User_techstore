<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title th:text="${product.name} + ' - Team For One'">Product Detail</title>
    <style>
        * {margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
        body {background-color:#f9f9f9; color:#333; line-height:1.6;}
        .site-header {

            padding: 16px 20px;
            border-bottom: 1px solid #e5e7eb;
            background: #0078d7;
        }

        .header-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-left h1 {
            margin: 0;
            font-size: 28px;
            color: white;
        }

        .header-left p {
            margin: 4px 0 0;
            font-size: 14px;
            color: white;
        }

        .top-bar-right {
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .top-icon {
            text-decoration: none;
            color: Black;
            font-size: 18px;
        }

        .top-icon:hover {
            color: white;
        }
        nav {
            background-color: #005fa3;
            display: flex;
            justify-content: space-between; /* T√°ch menu v√† search */
            align-items: center;
            padding: 12px 30px;
            flex-wrap: wrap;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }

        .nav-links {
            display: flex;
            gap: 40px;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 3px;
            background-color: white;
            bottom: -5px;
            left: 0;
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Thanh t√¨m ki·∫øm */
        .search-bar {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 25px;
            overflow: hidden;
            padding: 2px 5px;
        }

        .search-bar input {
            border: none;
            outline: none;
            padding: 8px 12px;
            font-size: 1rem;
            width: 200px;
        }

        .search-bar button {
            border: none;
            background-color: #0078d7;
            color: white;
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 25px;
            transition: background-color 0.3s ease;
        }

        .search-bar button:hover {
            background-color: #005fa3;
        }

        /* Responsive cho mobile */
        @media (max-width: 768px) {
            nav {
                flex-direction: column;
                gap: 10px;
            }
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
                gap: 20px;
            }
            .search-bar input {
                width: 100%;
            }
        }
        main {max-width:1200px; margin:30px auto; padding:0 20px;}
        .product-container {display:flex; flex-wrap:wrap; background:white; border-radius:8px; padding:30px; box-shadow:0 4px 10px rgba(0,0,0,0.1);}
        .product-image {flex:1; text-align:center;}
        .product-image img {width:400px; max-width:100%; border-radius:8px; object-fit:cover;}
        .product-info {flex:1; margin-left:40px; min-width:300px;}
        h1 {font-size:28px; margin-bottom:10px;}
        .price {margin-top:10px; font-size:24px; color:#0078d7; font-weight:700;}
        .buttons {margin-top:25px;}
        button {border:none; padding:12px 25px; border-radius:6px; font-size:16px; margin-right:10px; cursor:pointer; transition:all 0.2s ease;}
        .buy-now {background:#d70018; color:white;}
        .buy-now:hover {background:#b10015;}
        .add-cart {background:#f3f4f6; color:#333;}
        .add-cart:hover {background:#e4e6e8;}
        .description, .specs, .comments {margin-top:40px;}
        .description h3, .specs h3, .comments h3 {margin-bottom:10px; color:#333;}
        table.spec-table {width:100%; border-collapse:collapse;}
        table.spec-table td {padding:8px 12px; border:1px solid #ddd;}
        table.spec-table tr:nth-child(even){background:#f9f9f9;}
        .comment {border-bottom:1px solid #ddd; padding:10px 0;}
        .comment p {margin:4px 0;}
        @media (max-width:768px) {
            .product-container {flex-direction:column; padding:20px;}
            .product-info {margin-left:0; margin-top:20px;}
            .product-image img {width:100%;}
        }
    </style>
</head>
<body>

<header class="site-header">
    <div class="header-row">
        <div class="header-left">
            <h1>Team For One</h1>
            <p>C·ª≠a h√†ng ƒë·ªì c√¥ng ngh·ªá h√†ng ƒë·∫ßu</p>
        </div>

        <div class="top-bar">
            <div class="top-bar-right">
                <a th:href="@{/cart}" class="top-icon">
                    üõí Gi·ªè h√†ng
                    <span class="cart-badge"
                          th:if="${cartCount != null}"
                          th:text="${cartCount}">0</span>
                </a>

                <a th:href="@{/auth/profile}" class="top-icon">üë§ H·ªì s∆°</a>
                <a th:href="@{/auth/dangxuat}" class="top-icon">üö™ ƒêƒÉng xu·∫•t</a>
            </div>
        </div>
    </div>
</header>

<nav>
    <div class="nav-links">

        <a href="/category/dien-thoai-phu-kien" th:href="@{/category/dien-thoai-phu-kien}">ƒêi·ªán tho·∫°i & Ph·ª• ki·ªán</a>
        <a href="/category/laptop" th:href="@{/category/laptop}">Laptop</a>
        <a href="/category/tablet" th:href="@{/category/tablet}">Tablet</a>
        <a href="/category/dong-ho-thong-minh" th:href="@{/category/dong-ho-thong-minh}">ƒê·ªìng h·ªì th√¥ng minh</a>
        <a href="/category/phu-kien-am-thanh" th:href="@{/category/phu-kien-am-thanh}">Ph·ª• ki·ªán √¢m thanh</a>
        <a href="/category/pc-linh-kien" th:href="@{/category/pc-linh-kien}">PC & Linh ki·ªán</a>
        <a href="/category/thiet-bi-mang" th:href="@{/category/thiet-bi-mang}">Thi·∫øt b·ªã m·∫°ng</a>


    </div>

    <form class="search-bar" th:action="@{/search}" method="get">
        <input type="text" name="keyword" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..." required>
        <button type="submit">üîç</button>
    </form>
</nav>

<main>
    <div class="product-container">

        <div class="product-image">
            <img th:src="${product.imageUrl}"
                 alt="Product Image">
        </div>
        <div class="product-info">
            <h1 th:text="${product.name}"></h1>
            <div class="price"
                 th:text="${selectedVariant != null && selectedVariant.price != null
        ? #numbers.formatDecimal(selectedVariant.price, 0, 0) + ' ‚Ç´'
        : 'Li√™n h·ªá'}">
            </div>

            <div class="buttons">
                <button class="buy-now">Mua ngay</button>
                <button class="add-cart">Th√™m v√†o gi·ªè h√†ng</button>
            </div>

            <div class="description">
                <h3>M√¥ t·∫£ s·∫£n ph·∫©m</h3>
                <p th:text="${product.description}"></p>
            </div>

            <div class="specs" th:if="${specs != null}">
                <h3>Th√¥ng s·ªë k·ªπ thu·∫≠t</h3>
                <table class="spec-table">
                    <tr th:if="${specs.displaySize != null}">
                        <td>M√†n h√¨nh</td>
                        <td th:text="${specs.displaySize.sizeInch + ' inch'}"></td>
                    </tr>
                    <tr th:if="${specs.storage != null}">
                        <td>B·ªô nh·ªõ</td>
                        <td th:text="${specs.storage.capacity}"></td>
                    </tr>
                    <tr th:if="${specs.chipset != null}">
                        <td>Chipset</td>
                        <td th:text="${specs.chipset}"></td>
                    </tr>
                    <tr th:if="${specs.cpu != null}">
                        <td>CPU</td>
                        <td th:text="${specs.cpu}"></td>
                    </tr>
                    <tr th:if="${specs.gpu != null}">
                        <td>GPU</td>
                        <td th:text="${specs.gpu}"></td>
                    </tr>
                    <tr th:if="${specs.rearCameraMain != null}">
                        <td>Camera sau</td>
                        <td th:text="${specs.rearCameraMain}"></td>
                    </tr>
                    <tr th:if="${specs.rearCameraUltraWide != null}">
                        <td>Camera si√™u r·ªông</td>
                        <td th:text="${specs.rearCameraUltraWide}"></td>
                    </tr>
                    <tr th:if="${specs.frontCamera != null}">
                        <td>Camera tr∆∞·ªõc</td>
                        <td th:text="${specs.frontCamera}"></td>
                    </tr>
                    <tr th:if="${specs.batteryCapacity != null}">
                        <td>Pin</td>
                        <td th:text="${specs.batteryCapacity}"></td>
                    </tr>
                    <tr th:if="${specs.chargingTechnology != null}">
                        <td>C√¥ng ngh·ªá s·∫°c</td>
                        <td th:text="${specs.chargingTechnology}"></td>
                    </tr>
                    <tr th:if="${specs.operatingSystem != null}">
                        <td>H·ªá ƒëi·ªÅu h√†nh</td>
                        <td th:text="${specs.operatingSystem}"></td>
                    </tr>
                    <tr th:if="${specs.simType != null}">
                        <td>Sim</td>
                        <td th:text="${specs.simType}"></td>
                    </tr>
                    <tr th:if="${specs.networkSupport != null}">
                        <td>M·∫°ng</td>
                        <td th:text="${specs.networkSupport}"></td>
                    </tr>
                    <tr th:if="${specs.nfc != null}">
                        <td>NFC</td>
                        <td th:text="${specs.nfc ? 'C√≥' : 'Kh√¥ng'}"></td>
                    </tr>
                    <tr th:if="${specs.wifi != null}">
                        <td>WiFi</td>
                        <td th:text="${specs.wifi}"></td>
                    </tr>
                    <tr th:if="${specs.bluetooth != null}">
                        <td>Bluetooth</td>
                        <td th:text="${specs.bluetooth}"></td>
                    </tr>
                    <tr th:if="${specs.gps != null}">
                        <td>GPS</td>
                        <td th:text="${specs.gps}"></td>
                    </tr>
                    <tr th:if="${specs.usbPort != null}">
                        <td>USB</td>
                        <td th:text="${specs.usbPort}"></td>
                    </tr>
                    <tr th:if="${specs.dimensions != null}">
                        <td>K√≠ch th∆∞·ªõc</td>
                        <td th:text="${specs.dimensions}"></td>
                    </tr>
                    <tr th:if="${specs.weight != null}">
                        <td>Tr·ªçng l∆∞·ª£ng</td>
                        <td th:text="${specs.weight}"></td>
                    </tr>
                    <tr th:if="${specs.ipRating != null}">
                        <td>IP Rating</td>
                        <td th:text="${specs.ipRating}"></td>
                    </tr>
                    <tr th:if="${specs.specialFeatures != null}">
                        <td>T√≠nh nƒÉng ƒë·∫∑c bi·ªát</td>
                        <td th:text="${specs.specialFeatures}"></td>
                    </tr>
                </table>
            </div>


            <div class="comments">
                <h3>B√¨nh lu·∫≠n</h3>
                <div th:each="comment : ${comments}">
                    <div class="comment">
                        <p><strong th:text="${comment.username}"></strong> <span th:text="${#dates.format(comment.createdAt, 'dd/MM/yyyy HH:mm')}"></span></p>
                        <p th:text="${comment.content}"></p>
                    </div>
                </div>
                <form th:action="@{/product/{slug}/comment(slug=${product.slug})}" method="post">
                    <textarea name="content" placeholder="Vi·∫øt b√¨nh lu·∫≠n..." rows="3" style="width:100%; margin-top:10px; padding:8px;"></textarea>
                    <button type="submit" style="margin-top:8px; padding:10px 20px; border:none; background:#0078d7; color:white; border-radius:4px;">G·ª≠i</button>
                </form>
            </div>

        </div>
    </div>
</main>

<footer class="site-footer">
    <div class="footer-top">
        <div class="container">
            <div class="footer-columns">
                <div class="footer-col">
                    <h4>H·ªó tr·ª£ kh√°ch h√†ng</h4>
                    <ul>
                        <li><a th:href="@{/help/shipping}">V·∫≠n chuy·ªÉn ‚Äì giao h√†ng</a></li>
                        <li><a th:href="@{/help/return}">ƒê·ªïi / tr·∫£ h√†ng</a></li>
                        <li><a th:href="@{/help/faq}">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a></li>
                        <li><a th:href="@{/contact}">Li√™n h·ªá</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>V·ªÅ Team For One</h4>
                    <ul>
                        <li><a th:href="@{/about}">Gi·ªõi thi·ªáu</a></li>
                        <li><a th:href="@{/policy/privacy}">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
                        <li><a th:href="@{/policy/terms}">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a></li>
                        <li><a th:href="@{/jobs}">Tuy·ªÉn d·ª•ng</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>K·∫øt n·ªëi v·ªõi ch√∫ng t√¥i</h4>
                    <ul class="social-links">
                        <li><a href="https://www.facebook.com/yourpage" target="_blank">Facebook</a></li>
                        <li><a href="https://www.instagram.com/yourpage" target="_blank">Instagram</a></li>
                        <li><a href="https://www.youtube.com/yourchannel" target="_blank">YouTube</a></li>
                    </ul>
                    <div class="newsletter">
                        <h5>ƒêƒÉng k√Ω nh·∫≠n tin</h5>
                        <form th:action="@{/newsletter/subscribe}" method="post">
                            <input type="email" name="email" placeholder="Email c·ªßa b·∫°n" required>
                            <button type="submit">ƒêƒÉng k√Ω</button>
                        </form>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Th√¥ng tin li√™n h·ªá</h4>
                    <ul class="contact-info">
                        <li>üìç ƒê·ªãa ch·ªâ: 1234 ƒê∆∞·ªùng ABC, Ph∆∞·ªùng XYZ, TP.HCM</li>
                        <li>üìû Hotline: 1800-1234</li>
                        <li>‚úâÔ∏è Email: support@teamforone.vn</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="footer-bottom">
        <div class="container">
            <p>&copy; 2025 Team For One. All rights reserved. ‚Äì Thi·∫øt k·∫ø b·ªüi Team For One</p>
        </div>
    </div>
</footer>

<style>
    .site-footer {
        background-color: #0078d7;
        color: white;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .site-footer a {
        color: #f3f4f6;
        text-decoration: none;
    }
    .site-footer a:hover {
        color: #e4e6e8;
    }
    .site-footer .container {
        max-width: 1200px;
        margin: auto;
        padding: 40px 20px;
    }
    .footer-columns {
        display: flex;
        flex-wrap: wrap;
        gap: 30px;
    }
    .footer-col {
        flex: 1 1 220px;
    }
    .footer-col h4 {
        font-size: 1.3rem;
        margin-bottom: 15px;
    }
    .footer-col ul {
        list-style: none;
    }
    .footer-col ul li {
        margin-bottom: 10px;
        font-size: 0.95rem;
    }
    .social-links li {
        display: inline-block;
        margin-right: 10px;
    }
    .newsletter {
        margin-top: 15px;
    }
    .newsletter input[type="email"] {
        width: calc(100% - 110px);
        padding: 8px 10px;
        border: none;
        border-radius: 4px 0 0 4px;
    }
    .newsletter button {
        padding: 9px 15px;
        border: none;
        background-color: #d70018;
        color: white;
        border-radius: 0 4px 4px 0;
        cursor: pointer;
        transition: background-color .3s ease;
    }
    .newsletter button:hover {
        background-color: #b10015;
    }
    .footer-bottom {
        text-align: center;
        padding: 15px 20px;
        background-color: #005fa3;
    }
    .footer-bottom p {
        margin: 0;
        font-size: 0.9rem;
    }
    @media (max-width: 768px) {
        .footer-columns {
            flex-direction: column;
        }
        .newsletter input[type="email"] {
            width: 100%;
            margin-bottom: 10px;
            border-radius: 4px;
        }
        .newsletter button {
            width: 100%;
            border-radius: 4px;
        }
    }
</style>

</body>
</html>