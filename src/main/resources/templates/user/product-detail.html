<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title th:text="${product.name} + ' - Team For One'">Product Detail</title>
    <style>
        * {margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
        body {background-color:#f9f9f9; color:#333; line-height:1.6;}
        header {background-color:#0078d7; color:white; padding:20px 30px; text-align:center; border-radius:0 0 6px 6px; box-shadow:0 3px 6px rgba(0,0,0,0.1);}
        header h1 {font-weight:700; font-size:2.5rem; letter-spacing:2px;}
        header p {font-size:1.1rem; opacity:0.9;}
        nav {background-color:#005fa3; display:flex; justify-content:center; gap:40px; padding:12px 0; box-shadow:0 3px 6px rgba(0,0,0,0.1);}
        nav a {color:white; text-decoration:none; font-weight:600; font-size:1.1rem; position:relative;}
        nav a::after {content:''; position:absolute; width:0; height:3px; background-color:white; bottom:-5px; left:0; transition:width 0.3s ease;}
        nav a:hover::after {width:100%;}
        main {max-width:1200px; margin:30px auto; padding:0 20px;}
        .product-container {display:flex; flex-wrap:wrap; background:white; border-radius:8px; padding:30px; box-shadow:0 4px 10px rgba(0,0,0,0.1);}
        .product-image {flex:1; text-align:center;}
        .product-image img {width:400px; max-width:100%; border-radius:8px; object-fit:cover;}
        .product-info {flex:1; margin-left:40px; min-width:300px;}
        h1 {font-size:28px; margin-bottom:10px;}
        .price {margin-top:10px; font-size:24px; color:#0078d7; font-weight:700;}
        .buttons {margin-top:25px;}
        button {border:none; padding:12px 25px; border-radius:6px; font-size:16px; margin-right:10px; cursor:pointer; transition:all 0.2s ease;}
        .buy-now {background:#d70018; color:white;}
        .buy-now:hover {background:#b10015;}
        .add-cart {background:#f3f4f6; color:#333;}
        .add-cart:hover {background:#e4e6e8;}
        .description, .specs, .comments {margin-top:40px;}
        .description h3, .specs h3, .comments h3 {margin-bottom:10px; color:#333;}
        table.spec-table {width:100%; border-collapse:collapse;}
        table.spec-table td {padding:8px 12px; border:1px solid #ddd;}
        table.spec-table tr:nth-child(even){background:#f9f9f9;}
        .comment {border-bottom:1px solid #ddd; padding:10px 0;}
        .comment p {margin:4px 0;}
        @media (max-width:768px) {
            .product-container {flex-direction:column; padding:20px;}
            .product-info {margin-left:0; margin-top:20px;}
            .product-image img {width:100%;}
        }
    </style>
</head>
<body>

<header>
    <h1>Team For One</h1>
    <p>Cửa hàng đồ công nghệ hàng đầu</p>
</header>

<nav>
    <a th:href="@{/category/smartphones}">Điện thoại</a>
    <a th:href="@{/category/headphones}">Tai nghe</a>
    <a th:href="@{/category/bluetooths}">Bluetooths</a>
    <a th:href="@{/category/laptop}">Laptops</a>
</nav>

<main>
    <div class="product-container">
        <div class="product-image">
            <img th:src="@{${product.imageUrl}}" alt="Hình ảnh sản phẩm" class="product-image">
        </div>

        <div class="product-info">
            <h1 th:text="${product.name}"></h1>
            <div class="price" th:text="${#numbers.formatDecimal(product.price, 0, 0)} + ' ₫'"></div>

            <div class="buttons">
                <button class="buy-now">Mua ngay</button>
                <button class="add-cart">Thêm vào giỏ hàng</button>
            </div>

            <div class="description">
                <h3>Mô tả sản phẩm</h3>
                <p th:text="${product.description}"></p>
            </div>

            <p th:text="${specs}">Test specs</p>
            <div class="specs" th:if="${specs != null}">
                <h3>Thông số kỹ thuật</h3>
                <table class="spec-table">
                    <tr>
                        <td>Màn hình</td>
                        <td th:text="${specs.displaySize != null ? specs.displaySize.sizeInch + ' inch' : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Bộ nhớ</td>
                        <td th:text="${specs.storage != null ? specs.storage.capacity : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Chipset</td>
                        <td th:text="${specs.chipset != null ? specs.chipset : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>CPU</td>
                        <td th:text="${specs.cpu != null ? specs.cpu : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>GPU</td>
                        <td th:text="${specs.gpu != null ? specs.gpu : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Camera sau</td>
                        <td th:text="${specs.rearCameraMain != null ? specs.rearCameraMain : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Camera siêu rộng</td>
                        <td th:text="${specs.rearCameraUltraWide != null ? specs.rearCameraUltraWide : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Camera trước</td>
                        <td th:text="${specs.frontCamera != null ? specs.frontCamera : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Pin</td>
                        <td th:text="${specs.batteryCapacity != null ? specs.batteryCapacity : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Công nghệ sạc</td>
                        <td th:text="${specs.chargingTechnology != null ? specs.chargingTechnology : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Hệ điều hành</td>
                        <td th:text="${specs.operatingSystem != null ? specs.operatingSystem : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Sim</td>
                        <td th:text="${specs.simType != null ? specs.simType : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Mạng</td>
                        <td th:text="${specs.networkSupport != null ? specs.networkSupport : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>NFC</td>
                        <td th:text="${specs.nfc != null ? (specs.nfc ? 'Có' : 'Không') : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>WiFi</td>
                        <td th:text="${specs.wifi != null ? specs.wifi : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Bluetooth</td>
                        <td th:text="${specs.bluetooth != null ? specs.bluetooth : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>GPS</td>
                        <td th:text="${specs.gps != null ? specs.gps : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>USB</td>
                        <td th:text="${specs.usbPort != null ? specs.usbPort : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Kích thước</td>
                        <td th:text="${specs.dimensions != null ? specs.dimensions : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Trọng lượng</td>
                        <td th:text="${specs.weight != null ? specs.weight : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>IP Rating</td>
                        <td th:text="${specs.ipRating != null ? specs.ipRating : 'Chưa có'}"></td>
                    </tr>
                    <tr>
                        <td>Tính năng đặc biệt</td>
                        <td th:text="${specs.specialFeatures != null ? specs.specialFeatures : 'Chưa có'}"></td>
                    </tr>
                </table>
            </div>

            <div class="comments">
                <h3>Bình luận</h3>
                <div th:each="comment : ${comments}">
                    <div class="comment">
                        <p><strong th:text="${comment.username}"></strong> <span th:text="${#dates.format(comment.createdAt, 'dd/MM/yyyy HH:mm')}"></span></p>
                        <p th:text="${comment.content}"></p>
                    </div>
                </div>
                <form th:action="@{/product/{id}/comment(id=${product.id})}" method="post">
                    <textarea name="content" placeholder="Viết bình luận..." rows="3" style="width:100%; margin-top:10px; padding:8px;"></textarea>
                    <button type="submit" style="margin-top:8px; padding:10px 20px; border:none; background:#0078d7; color:white; border-radius:4px;">Gửi</button>
                </form>
            </div>

        </div>
    </div>
</main>

<footer style="margin-top:50px; padding:20px; background-color:#0078d7; color:white; text-align:center; border-radius:6px 6px 0 0;">
    <p>&copy; 2025 Team For One. All rights reserved.</p>
</footer>

</body>
</html>